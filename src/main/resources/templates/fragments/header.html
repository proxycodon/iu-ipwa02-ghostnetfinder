<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
  <!-- empty; only for Namespaces -->
</head>
<body>

<header th:fragment="siteHeader">
  <div class="brand">
    <!-- Only the logo is clickable -->
    <a th:href="@{/}" class="brand-logo-link">
      <img th:src="@{/img/ghost-net-finder-high-resolution-logo-transparent.png}"
           alt="Ghost Net Finder Logo"
           class="logo">
    </a>
    <h1>Ghost Net Finder</h1>
  </div>

  <!-- Main navigation: depends on login status -->
  <nav>
    <!-- Overview of all nets (visible to all) -->
    <a th:href="@{/nets}">All nets</a>

    <!-- Reporting a new net (publicly accessible) -->
    <a th:href="@{/nets/new}">Report new net</a>

    <!-- Links for not logged-in users -->
    <span sec:authorize="isAnonymous()">
      <a th:href="@{/login}">Login</a>
      <a th:href="@{/register}">Register</a>
    </span>

    <!-- Section for logged-in users -->
    <span sec:authorize="isAuthenticated()">
      Signed in as <b sec:authentication="name"></b>
      <a th:href="@{/my-nets}">My assigned nets</a>
      <form th:action="@{/logout}" method="post" style="display:inline">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        <button type="submit">Logout</button>
      </form>
    </span>
  </nav>
</header>

</body>
</html>
